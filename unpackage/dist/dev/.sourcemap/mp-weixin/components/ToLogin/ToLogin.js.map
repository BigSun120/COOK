{"version":3,"sources":["webpack:///D:/woniu/fourstage/foodCook/components/ToLogin/ToLogin.vue?c45e","webpack:///D:/woniu/fourstage/foodCook/components/ToLogin/ToLogin.vue?6046","webpack:///D:/woniu/fourstage/foodCook/components/ToLogin/ToLogin.vue?de82","webpack:///D:/woniu/fourstage/foodCook/components/ToLogin/ToLogin.vue?bdef","uni-app:///components/ToLogin/ToLogin.vue","webpack:///D:/woniu/fourstage/foodCook/components/ToLogin/ToLogin.vue?7d7c","webpack:///D:/woniu/fourstage/foodCook/components/ToLogin/ToLogin.vue?c36f"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACsC;;;AAG5F;AAC+K;AAC/K,gBAAgB,sLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgqB,CAAgB,8pBAAG,EAAC,C;;;;;;;;;;;;;;;;;ACKprB,gD;;;;AAIA;;AAEA,MAFA,kBAEA;AACA;AACA;AACA,gBAFA;;AAIA,GAPA;AAQA,gBARA;AASA,SATA,qBASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAnBA;AAoBA;AACA,eADA,yBACA;AACA;AACA;AACA,KAJA,EApBA;;;AA2BA;AACA,yDADA;AAEA;AACA,aAHA,uBAGA;AACA;AACA;AACA;AACA,KAPA;AAQA;AACA,eATA,yBASA;AACA;AACA;AACA;AACA,wBADA;AAEA;AACA;AACA;AACA,oCAHA,2IAFA;;;AAQA,KApBA;AAqBA,WArBA,qBAqBA;AACA;AACA;AACA;AACA;AACA,SAJA;;AAMA,KA5BA;AA6BA,YA7BA,oBA6BA,IA7BA,EA6BA;;AAEA;AACA,8BADA;AAEA;AACA,+CAHA;AAIA,iEAJA,GAFA,SAEA,GAFA;;;AASA,yBATA;AAUA;AACA;AACA;AACA;AACA,8BADA;AAEA,iCAFA;;;AAKA;AACA,oBAnBA,GAmBA,4BAnBA;AAoBA;AApBA,0CAqBA;AACA,kCADA;AAEA,kCAFA,EArBA,QAqBA,GArBA;;;;;;AA6BA;AACA;AA9BA;AAgCA,KA7DA;AA8DA,kBA9DA,4BA8DA;AACA,qBADA,GACA,2BADA;AAEA;AAFA,0CAGA;AACA,8BADA,GAHA,QAGA,GAHA;;AAMA;AACA;AACA;AACA,iBATA;AAUA,KAxEA,GA3BA,E;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAmxC,CAAgB,ysCAAG,EAAC,C;;;;;;;;;;;ACAvyC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/ToLogin/ToLogin.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ToLogin.vue?vue&type=template&id=b1a8c1bc&scoped=true&\"\nvar renderjs\nimport script from \"./ToLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./ToLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToLogin.vue?vue&type=style&index=0&id=b1a8c1bc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1a8c1bc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ToLogin/ToLogin.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ToLogin.vue?vue&type=template&id=b1a8c1bc&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ToLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ToLogin.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"ALL\" @click=\"getUserInfo\" :style=\"toSt\"></view>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    mapState,\r\n    mapMutations\r\n  } from 'vuex'\r\n  export default {\r\n\r\n    data() {\r\n      return {\r\n        // userInfo: null,\r\n        toSt: null\r\n      }\r\n    },\r\n    props: ['sty'],\r\n    mounted() {\r\n      // console.log(111, this.sty);\r\n      this.changeSty()\r\n      const token = uni.getStorageSync('token');\r\n      if (token) {\r\n        // console.log('ttttt', token);\r\n        // this.getUserInfo();\r\n        this.getUserInfoTwo();\r\n\r\n      }\r\n    },\r\n    computed: {\r\n      userInfoAll() {\r\n        // console.log('this.$store.state.userInfo2222', this.$store.state.userInfo);\r\n        return this.$store.state.userInfo\r\n      },\r\n\r\n    },\r\n    methods: {\r\n      ...mapMutations([\"SET_TOKEN\", \"SET_USER_INFO\"]),\r\n      // ...mapMutations(['SET_USER_INFO']),\r\n      changeSty() {\r\n        // this.sty = this.sty.join('').substr(1, this.sty.length - 1)\r\n        this.toSt = JSON.stringify(this.sty).replaceAll(/[{}\"]/g, '').replaceAll(/[,]/g, ';')\r\n        // console.log(2222, this.toSt);\r\n      },\r\n      // 登录\r\n      getUserInfo() {\r\n        const token = uni.getStorageSync('token');\r\n        if (token) return;\r\n        uni.getUserProfile({\r\n          desc: '用户完善个人信息',\r\n          success: async (res) => {\r\n            // console.log('getUserInfo666', res);\r\n            this.$store.commit('SET_USER_INFO', res.userInfo);\r\n            this.getCode();\r\n          }\r\n        })\r\n      },\r\n      getCode() {\r\n        uni.login({\r\n          success: res => {\r\n            // console.log('res.code', res.code);\r\n            this.getToken(res.code);\r\n          }\r\n        })\r\n      },\r\n      async getToken(code) {\r\n        // console.log('codeee', code);\r\n        const res = await this.$api.users.getToken({\r\n          code,\r\n          // userInfo: this.userInfo,\r\n          appId: \"wx2acf4ac1014e0467\",\r\n          appSecret: \"8df8822e38314e9a5df9e750b289ff53\"\r\n        })\r\n        // console.log('getToken', res);\r\n        if (res.token) {\r\n          // console.log(6.6, res.token);\r\n          this.SET_TOKEN(res.token);\r\n          // console.log('res.tokenQQQQ', res.token);\r\n          uni.setStorage({\r\n            key: 'token',\r\n            data: res.token\r\n          });\r\n\r\n          // 用户授权\r\n          let info = this.$store.state.userInfo;\r\n          // console.log('info', info, res.token);\r\n          const abc = await this.$api.users.getAuth({\r\n            token: res.token,\r\n            ...this.userInfoAll\r\n            // avatarUrl: info.avatarUrl,\r\n            // nickName: info.nickName,\r\n            // gender: info.gender,\r\n            // province: info.province\r\n          })\r\n          this.getUserInfoTwo();\r\n          // console.log('abc', abc);\r\n        }\r\n      },\r\n      async getUserInfoTwo() {\r\n        const token = uni.getStorageSync('token');\r\n        // console.log('Qaaa', token);\r\n        const res = await this.$api.users.getUserInfo({\r\n          token\r\n        });\r\n        // console.log('用户消息res[0]', res[0]);\r\n        if (res) {\r\n          this.$store.commit('SET_USER_INFO', res)\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n  .ALL {\r\n    z-index: 99;\r\n    background-color: rgba(231, 94, 26, 0);\r\n    position: absolute;\r\n\r\n  }\r\n</style>\n","import mod from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ToLogin.vue?vue&type=style&index=0&id=b1a8c1bc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ToLogin.vue?vue&type=style&index=0&id=b1a8c1bc&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675150038258\n      var cssReload = require(\"D:/hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}